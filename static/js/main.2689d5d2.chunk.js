(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3LeyT",Modal:"Modal_Modal__3Jh53"}},11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3c4IJ",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1O0M6"}},13:function(e,t){},15:function(e,t,a){e.exports={container:"Container_container__1dDzS"}},16:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__lbnPX"}},17:function(e,t,a){e.exports={Button:"Button_Button__2-v8I"}},25:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(3),i=a.n(o),s=(a(23),a(24),a(25),a(12)),l=a(4),u=a(2),m=a.n(u),j=a(14),b=a.n(j),h=a(7),d=a(5),g=a.n(d);function f(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1];return Object(n.jsx)("header",{className:g.a.Searchbar,children:Object(n.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),i("")):h.b.error("Please, enter something!")},children:[Object(n.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(n.jsx)("span",{className:g.a.SearchFormButtonLabel})}),Object(n.jsx)("input",{type:"text",name:"imageName",placeholder:"Search images and photos",autoComplete:"off",autoFocus:!0,className:g.a.SearchFormInput,value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}var O=a(13),p=a.n(O),_=a(15),x=a.n(_);var I=function(e){var t=e.children;return Object(n.jsx)("div",{className:x.a.container,children:t})},S=a(10),v=a.n(S),y=document.querySelector("#modal-root");function F(e){var t=e.onClose,a=e.src,c=e.alt;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(o.createPortal)(Object(n.jsx)("div",{className:v.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(n.jsx)("div",{className:v.a.Modal,children:Object(n.jsx)("img",{src:a,alt:c})})}),y)}var w=a(11),k=a.n(w);function N(e){var t=e.src,a=e.alt,c=e.largeImageURL,o=Object(r.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],m=function(){u(!s)};return Object(n.jsxs)("li",{className:k.a.ImageGalleryItem,children:[Object(n.jsx)("img",{src:t,alt:a,className:k.a.ImageGalleryItemImage,onClick:m}),s&&Object(n.jsx)(F,{onClose:m,src:c,alt:a})]})}var L=a(16),C=a.n(L);function B(e){var t=e.images;return Object(n.jsx)("ul",{className:C.a.ImageGallery,children:t&&t.map((function(e,t){return Object(n.jsx)(N,{src:e.webformatURL,alt:e.tags,largeImageURL:e.largeImageURL},t)}))})}var G={fetchImage:function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("18992166-123806360f211761da038f5eb","&image_type=photo&orientation=horizontal&per_page=6")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Invalid request"))}))}},M=a(17),E=a.n(M);function T(e){var t=e.onClickLoadMore;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("button",{type:"button",className:E.a.Button,onClick:t,children:"Load more"})})}a(47);var q="idle",J="pending",P="resolved",R="rejected";function U(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)([]),i=Object(l.a)(o,2),u=i[0],m=i[1],j=Object(r.useState)(q),d=Object(l.a)(j,2),g=d[0],O=d[1],p=Object(r.useState)(null),_=Object(l.a)(p,2),x=_[0],S=_[1],v=Object(r.useState)(1),y=Object(l.a)(v,2),F=y[0],w=y[1];Object(r.useEffect)((function(){a&&(O(J),G.fetchImage(a,F).then((function(e){if(0===e.total)return h.b.dark("No images. Please try another query!"),void O(R);m((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),O(P)})).catch((function(e){S(e),O(R)})).finally((function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),500)})))}),[F,a,x]);return Object(n.jsxs)(I,{children:[Object(n.jsx)(f,{onSubmit:function(e){c(e),m([]),w(1)}}),g===q&&Object(n.jsx)("div",{style:{margin:"20px auto",textAlign:"center",fontSize:"20px"},children:"Please, enter a query!"}),u.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(B,{images:u}),Object(n.jsx)(T,{onClickLoadMore:function(){w((function(e){return e+1}))}})]}),g===J&&Object(n.jsx)("div",{children:Object(n.jsx)(b.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})}),g===R&&null,Object(n.jsx)(h.a,{autoClose:3e3})]})}p.a.propTypes={imageName:m.a.string.isRequired},i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(U,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1QOJr",SearchForm:"Searchbar_SearchForm__1XZk4",SearchFormButton:"Searchbar_SearchFormButton__3_RTd",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__IobSt",SearchFormInput:"Searchbar_SearchFormInput__3J8gy"}}},[[48,1,2]]]);
//# sourceMappingURL=main.2689d5d2.chunk.js.map
{"version":3,"sources":["component/Modal/Modal.module.css","component/ImageGalleryItem/ImageGalleryItem.module.css","component/Container/Container.module.css","component/ImageGallery/ImageGallery.module.css","component/Button/Button.module.css","component/Searchbar/Searchbar.js","component/Container/Container.js","component/Modal/Modal.js","component/ImageGalleryItem/ImageGalleryItem.js","component/ImageGallery/ImageGallery.js","service/pixabay-api.js","component/Button/Button.js","App.js","index.js","component/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","imageName","setImageName","className","s","SearchForm","event","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","name","placeholder","autoComplete","autoFocus","SearchFormInput","value","onChange","currentTarget","toLowerCase","Container","children","container","modalRoot","document","querySelector","Modal","onClose","src","alt","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","target","ImageGalleryItem","largeImageURL","showModal","setShowModal","toggleModal","ImageGalleryItemImage","ImageGallery","images","map","image","index","webformatURL","tags","api","fetchImage","page","fetch","then","response","ok","json","Promise","reject","Error","Button","onClickLoadMore","Status","App","setImages","status","setStatus","setError","currentPage","setCurrentPage","pixabayAPI","total","dark","prevState","hits","catch","finally","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","style","margin","textAlign","fontSize","length","color","height","width","timeout","autoClose","ImageGalleryInfo","propTypes","PropTypes","string","isRequired","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2689d5d2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3LeyT\",\"Modal\":\"Modal_Modal__3Jh53\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3c4IJ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1O0M6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1dDzS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__lbnPX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2-v8I\"};","import { useState } from 'react';\n// import { ImSearch } from 'react-icons/im';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleNameChange = event => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (imageName.trim() === '') {\n      toast.error('Please, enter something!');\n      return;\n    }\n\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>\n            {/* <ImSearch style={{ marginRight: 8 }} /> */}\n          </span>\n        </button>\n        <input\n          type=\"text\"\n          name=\"imageName\"\n          placeholder=\"Search images and photos\"\n          autoComplete=\"off\"\n          autoFocus\n          className={s.SearchFormInput}\n          value={imageName}\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, src, alt }) {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleOverlayClick}>\n      <div className={s.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ src, alt, largeImageURL }) {\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        className={s.ImageGalleryItemImage}\n        onClick={toggleModal}\n      />\n\n      {showModal && (\n        <Modal onClose={toggleModal} src={largeImageURL} alt={alt} />\n      )}\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images &&\n        images.map((image, index) => {\n          return (\n            <ImageGalleryItem\n              src={image.webformatURL}\n              alt={image.tags}\n              largeImageURL={image.largeImageURL}\n              key={index}\n            />\n          );\n        })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","function fetchImage(name, page) {\n  const KEY = '18992166-123806360f211761da038f5eb';\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  return fetch(\n    `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=6`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Invalid request'));\n  });\n}\n\nconst api = {\n  fetchImage,\n};\n\nexport default api;\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ onClickLoadMore }) {\n  return (\n    <>\n      <button type=\"button\" className={s.Button} onClick={onClickLoadMore}>\n        Load more\n      </button>\n    </>\n  );\n}\n\nButton.propTypes = {\n  onClickLoadMore: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Searchbar from './component/Searchbar';\nimport ImageGalleryInfo from './component/ImageGalleryInfo';\nimport Container from './component/Container';\nimport ImageGallery from './component/ImageGallery';\nimport pixabayAPI from './service/pixabay-api';\nimport Button from './component/Button';\nimport './App.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function App() {\n  const [imageName, setImageName] = useState('');\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handleSearchForm = imageName => {\n    setImageName(imageName);\n    setImages([]);\n    setCurrentPage(1);\n  };\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n\n    pixabayAPI\n      .fetchImage(imageName, currentPage)\n      .then(images => {\n        if (images.total === 0) {\n          toast.dark('No images. Please try another query!');\n          setStatus(Status.REJECTED);\n\n          return;\n        }\n\n        setImages(prevState => [...prevState, ...images.hits]);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      })\n      .finally(() => {\n        setTimeout(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }, 500);\n      });\n  }, [currentPage, imageName, error]);\n\n  const onClickLoadMore = () => {\n    setCurrentPage(prevState => prevState + 1);\n  };\n\n  return (\n    <Container>\n      <Searchbar onSubmit={handleSearchForm} />\n\n      {status === Status.IDLE && (\n        <div\n          style={{\n            margin: '20px auto',\n            textAlign: 'center',\n            fontSize: '20px',\n          }}\n        >\n          Please, enter a query!\n        </div>\n      )}\n      {images.length > 0 && (\n        <>\n          <ImageGallery images={images} />\n          <Button onClickLoadMore={onClickLoadMore} />\n        </>\n      )}\n\n      {status === Status.PENDING && (\n        <div>\n          <Loader\n            type=\"Circles\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        </div>\n      )}\n      {status === Status.REJECTED && null}\n\n      <ToastContainer autoClose={3000} />\n    </Container>\n  );\n}\nImageGalleryInfo.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1QOJr\",\"SearchForm\":\"Searchbar_SearchForm__1XZk4\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3_RTd\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__IobSt\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3J8gy\"};"],"sourceRoot":""}